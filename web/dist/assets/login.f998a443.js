import{p as d}from"./index.5ab5e305.js";import{_ as h,r as F,o as i,c as l,a as r,l as m,v as a,t as g,b as u,d as _,p as w,e as f}from"./index.a591e6ed.js";const b={name:"login",data(){return{isReg:!1,errForm:{account:!1,accountmsg:"",password:!1,passwordmsg:""},userForm:{account:"",password:""},regForm:{account:"",username:"",password:"",repassword:""},regErrForm:{account:!1,accountmsg:"",username:!1,usernamemsg:"",password:!1,passwordmsg:"",repassword:!1,repasswordmsg:""}}},created(){document.title="StarSteam",this.$router.currentRoute._value.path=="/register"&&(this.isReg=!0)},methods:{login(){this.userForm.account.length<1?(this.errForm.accountmsg="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u8D26\u53F7",this.errForm.account=!0):this.userForm.password.length<1?(this.errForm.passwordmsg="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",this.errForm.password=!0):d("/user/login",this.userForm).then(t=>{switch(t.code){case 201:this.errForm.accountmsg="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u8D26\u53F7",this.errForm.account=!0,this.errForm.passwordmsg="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",this.errForm.password=!0;break;case 202:this.errForm.accountmsg="\u7528\u6237\u4E0D\u5B58\u5728",this.errForm.account=!0;break;case 206:this.errForm.accountmsg="\u8BE5\u7528\u6237\u5DF2\u88AB\u9501\u5B9A",this.errForm.account=!0;break;case 204:this.errForm.passwordmsg="\u5BC6\u7801\u9519\u8BEF",this.errForm.password=!0;break;case 200:this.$cookies.set("origin",t.data),this.$router.push({path:"/mainview"});break;default:this.$refs.AlertMsg.addMsg(2,"\u672A\u77E5\u9519\u8BEF\uFF1A"+t.msg)}}).catch(t=>{this.$refs.AlertMsg.addMsg(2,"\u5F02\u5E38\u9519\u8BEF\uFF1A"+t)})},returnlogin(){this.isReg=!1},reg(){this.regForm.account.length<1?(this.regErrForm.accountmsg="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u8D26\u53F7",this.regErrForm.account=!0):this.regForm.username.length<1?(this.regErrForm.usernamemsg="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u7528\u6237\u540D",this.regErrForm.username=!0):this.regForm.password.length<1?(this.regErrForm.passwordmsg="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",this.regErrForm.password=!0):this.regForm.repassword.length<1?(this.regErrForm.repasswordmsg="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",this.regErrForm.repassword=!0):this.regForm.password!=this.regForm.repassword?(this.regErrForm.repasswordmsg="\u5BC6\u7801\u4E0D\u4E00\u81F4",this.regErrForm.repassword=!0):d("/user/register",this.regForm).then(t=>{switch(t.code){case 201:this.$refs.AlertMsg.addMsg(1,"\u6CE8\u518C\u4E2A\u66F4\u65B0\u65F6\u4EA7\u751F\u5F02\u5E38");break;case 202:this.regErrForm.accountmsg="\u6CE8\u518C\u8D26\u53F7\u5DF2\u5B58\u5728",this.regErrForm.account=!0;break;case 203:this.regErrForm.usernamemsg="\u6CE8\u518C\u7528\u6237\u540D\u5DF2\u5B58\u5728",this.regErrForm.username=!0;break;case 204:this.$refs.AlertMsg.addMsg(2,"\u6CE8\u518C\u65F6\u4EA7\u751F\u5F02\u5E38");break;case 205:this.regErrForm.accountmsg="\u8D26\u53F7\u4E0D\u7B26\u5408\u8981\u6C42",this.regErrForm.account=!0;break;case 206:this.regErrForm.usernamemsg="\u7528\u6237\u540D\u4E0D\u7B26\u5408\u8981\u6C42",this.regErrForm.username=!0;break;case 207:this.regErrForm.usernamemsg="\u8BE5\u7528\u6237\u540D\u5DF2\u88AB\u5360\u7528",this.regErrForm.username=!0;break;case 208:this.regErrForm.passwordmsg="\u5BC6\u7801\u4E0D\u7B26\u5408\u8981\u6C42",this.regErrForm.password=!0;break;case 200:this.$refs.AlertMsg.addMsg(1,"\u6CE8\u518C\u6210\u529F"),setTimeout(()=>{this.isReg=!1},300);break;default:this.$refs.AlertMsg.addMsg(2,"\u672A\u77E5\u9519\u8BEF\uFF1A"+t.msg)}}).catch(t=>{this.$refs.AlertMsg.addMsg(2,"\u5F02\u5E38\u9519\u8BEF\uFF1A"+t)})}}},n=t=>(w("data-v-9f13784c"),t=t(),f(),t),E={class:"main-login-box"},v={key:0,class:"login-box"},k=n(()=>r("h1",null,"\u767B\u5F55",-1)),x={class:"login-box-inner"},M={class:"user-box"},y=n(()=>r("label",null,"\u8D26\u53F7",-1)),C={key:0},A=n(()=>r("i",{class:"col-ri-5 iconfont icon-cuowu1"},null,-1)),R={class:"user-box"},V=n(()=>r("label",null,"\u5BC6\u7801",-1)),q={key:0},S=n(()=>r("i",{class:"col-ri-5 iconfont icon-cuowu1"},null,-1)),U={class:"login-bottom-box"},I={key:1,class:"login-box"},B=n(()=>r("h1",null,"\u6CE8\u518C",-1)),N={class:"login-box-inner"},D={class:"user-box"},T=n(()=>r("label",null,"\u8D26\u53F7",-1)),j={key:0},z=n(()=>r("i",{class:"col-ri-5 iconfont icon-cuowu1"},null,-1)),G={class:"user-box"},H=n(()=>r("label",null,"\u7528\u6237\u540D",-1)),J={key:0},K=n(()=>r("i",{class:"col-ri-5 iconfont icon-cuowu1"},null,-1)),L={class:"user-box"},O=n(()=>r("label",null,"\u5BC6\u7801",-1)),P={key:0},Q=n(()=>r("i",{class:"col-ri-5 iconfont icon-cuowu1"},null,-1)),W={class:"user-box"},X=n(()=>r("label",null,"\u91CD\u590D\u5BC6\u7801",-1)),Y={key:0},Z=n(()=>r("i",{class:"col-ri-5 iconfont icon-cuowu1"},null,-1)),$={class:"login-bottom-box"};function rr(t,e,sr,er,s,c){const p=F("AlertMsg");return i(),l("div",E,[s.isReg?u("",!0):(i(),l("div",v,[k,r("div",x,[r("form",null,[r("div",M,[m(r("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>s.userForm.account=o),required:"",autocomplete:"on",onChange:e[1]||(e[1]=o=>s.errForm.account=!1)},null,544),[[a,s.userForm.account]]),y,s.errForm.account?(i(),l("span",C,[A,r("p",null,g(s.errForm.accountmsg),1)])):u("",!0)]),r("div",R,[m(r("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=o=>s.userForm.password=o),autocomplete:"on",required:"",onChange:e[3]||(e[3]=o=>s.errForm.password=!1)},null,544),[[a,s.userForm.password]]),V,s.errForm.password?(i(),l("span",q,[S,r("p",null,g(s.errForm.passwordmsg),1)])):u("",!0)])])]),r("div",U,[r("button",{class:"login-btn",onClick:e[4]||(e[4]=(...o)=>c.login&&c.login(...o))},"\u767B\u5F55"),r("button",{class:"login-btn",onClick:e[5]||(e[5]=o=>s.isReg=!0)},"\u6CE8\u518C")])])),s.isReg?(i(),l("div",I,[B,r("div",N,[r("form",null,[r("div",D,[m(r("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=o=>s.regForm.account=o),required:"",autocomplete:"on",onChange:e[7]||(e[7]=o=>s.regErrForm.account=!1)},null,544),[[a,s.regForm.account]]),T,s.regErrForm.account?(i(),l("span",j,[z,r("p",null,g(s.regErrForm.accountmsg),1)])):u("",!0)]),r("div",G,[m(r("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=o=>s.regForm.username=o),required:"",autocomplete:"on",onChange:e[9]||(e[9]=o=>s.regErrForm.username=!1)},null,544),[[a,s.regForm.username]]),H,s.regErrForm.username?(i(),l("span",J,[K,r("p",null,g(s.regErrForm.usernamemsg),1)])):u("",!0)]),r("div",L,[m(r("input",{type:"password","onUpdate:modelValue":e[10]||(e[10]=o=>s.regForm.password=o),required:"",autocomplete:"on",onChange:e[11]||(e[11]=o=>s.regErrForm.password=!1)},null,544),[[a,s.regForm.password]]),O,s.regErrForm.password?(i(),l("span",P,[Q,r("p",null,g(s.regErrForm.passwordmsg),1)])):u("",!0)]),r("div",W,[m(r("input",{type:"password","onUpdate:modelValue":e[12]||(e[12]=o=>s.regForm.repassword=o),required:"",autocomplete:"on",onChange:e[13]||(e[13]=o=>s.regErrForm.repassword=!1)},null,544),[[a,s.regForm.repassword]]),X,s.regErrForm.repassword?(i(),l("span",Y,[Z,r("p",null,g(s.regErrForm.repasswordmsg),1)])):u("",!0)])])]),r("div",$,[r("button",{class:"login-btn",onClick:e[14]||(e[14]=o=>c.reg())},"\u6CE8\u518C"),r("button",{class:"login-btn",onClick:e[15]||(e[15]=o=>c.returnlogin())},"\u8FD4\u56DE")])])):u("",!0),_(p,{ref:"AlertMsg"},null,512)])}var nr=h(b,[["render",rr],["__scopeId","data-v-9f13784c"]]);export{nr as default};
//# sourceMappingURL=login.f998a443.js.map
